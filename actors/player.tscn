[gd_scene load_steps=51 format=3 uid="uid://elevlirk2wiw"]

[ext_resource type="Script" uid="uid://bnpf3pr2xkm5k" path="res://src/actors/player.gd" id="1_esgq3"]
[ext_resource type="Texture2D" uid="uid://dl3y6o044xneq" path="res://sprites/actors/player/player.png" id="2_er1rk"]
[ext_resource type="Script" uid="uid://d10e6yqg3tpil" path="res://src/components/movement_component.gd" id="2_mvpqy"]
[ext_resource type="Script" uid="uid://dp2hu4vfr62ky" path="res://src/components/input_component.gd" id="3_1yqc4"]
[ext_resource type="Texture2D" uid="uid://q8jj2pvan21d" path="res://sprites/actors/item_placeholder.png" id="3_e7yfm"]
[ext_resource type="Script" uid="uid://buky2c38fbbep" path="res://src/components/stat_component.gd" id="5_kjkj0"]
[ext_resource type="Script" uid="uid://nohl3crpcmgo" path="res://src/components/state_machine_component.gd" id="6_33vod"]
[ext_resource type="Script" uid="uid://b6p3lpb0yn2rr" path="res://src/components/container_component.gd" id="6_er1rk"]
[ext_resource type="Script" uid="uid://civq5tghtijid" path="res://src/components/state.gd" id="7_er1rk"]
[ext_resource type="Resource" uid="uid://dmnrhoig7n28a" path="res://data/loot_tables/storage_container_starter_tools.tres" id="8_31m4k"]
[ext_resource type="PackedScene" uid="uid://mrkfymoy85p0" path="res://actors/components/progress_bar.tscn" id="10_5nkr1"]
[ext_resource type="Texture2D" uid="uid://bae6bonbub2qo" path="res://sprites/UI/bars/interact_bar_under.png" id="11_31m4k"]
[ext_resource type="Texture2D" uid="uid://cbn64a5n4klw4" path="res://sprites/UI/bars/interact_bar_frame.png" id="12_opp7g"]
[ext_resource type="Texture2D" uid="uid://co28j63niiyy0" path="res://sprites/UI/bars/interact_bar.png" id="13_jglmw"]
[ext_resource type="AudioStream" uid="uid://dfyq2tcnitl2n" path="res://sounds/step1.wav" id="15_g4jua"]
[ext_resource type="AudioStream" uid="uid://chcg051v3myvl" path="res://sounds/step2.wav" id="16_m2gb2"]
[ext_resource type="AudioStream" uid="uid://wupkv6jhvb66" path="res://sounds/step3.wav" id="17_p7c1f"]
[ext_resource type="AudioStream" uid="uid://c005w5xfcwr0" path="res://sounds/step4.wav" id="18_gruaa"]
[ext_resource type="AudioStream" uid="uid://b212o7h1t6ha3" path="res://sounds/step5.wav" id="19_vsnin"]
[ext_resource type="AudioStream" uid="uid://b8lte7plv281p" path="res://sounds/step6.wav" id="20_vsr4s"]

[sub_resource type="AtlasTexture" id="AtlasTexture_e7yfm"]
atlas = ExtResource("2_er1rk")
region = Rect2(0, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_er1rk"]
atlas = ExtResource("2_er1rk")
region = Rect2(48, 96, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5nkr1"]
atlas = ExtResource("2_er1rk")
region = Rect2(48, 32, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_31m4k"]
atlas = ExtResource("2_er1rk")
region = Rect2(48, 128, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_opp7g"]
atlas = ExtResource("2_er1rk")
region = Rect2(48, 64, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jglmw"]
atlas = ExtResource("2_er1rk")
region = Rect2(48, 160, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ua707"]
atlas = ExtResource("2_er1rk")
region = Rect2(24, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rkwqa"]
atlas = ExtResource("2_er1rk")
region = Rect2(48, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_41w2c"]
atlas = ExtResource("2_er1rk")
region = Rect2(72, 0, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bncfn"]
atlas = ExtResource("2_er1rk")
region = Rect2(24, 96, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_77ki2"]
atlas = ExtResource("2_er1rk")
region = Rect2(72, 96, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ya2v2"]
atlas = ExtResource("2_er1rk")
region = Rect2(0, 96, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g4jua"]
atlas = ExtResource("2_er1rk")
region = Rect2(24, 32, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_m2gb2"]
atlas = ExtResource("2_er1rk")
region = Rect2(72, 32, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p7c1f"]
atlas = ExtResource("2_er1rk")
region = Rect2(0, 32, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_gruaa"]
atlas = ExtResource("2_er1rk")
region = Rect2(24, 128, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vsnin"]
atlas = ExtResource("2_er1rk")
region = Rect2(72, 128, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vsr4s"]
atlas = ExtResource("2_er1rk")
region = Rect2(0, 128, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rcrwa"]
atlas = ExtResource("2_er1rk")
region = Rect2(24, 64, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xfjxe"]
atlas = ExtResource("2_er1rk")
region = Rect2(72, 64, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ui1y8"]
atlas = ExtResource("2_er1rk")
region = Rect2(0, 64, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_00nrh"]
atlas = ExtResource("2_er1rk")
region = Rect2(24, 160, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dulvp"]
atlas = ExtResource("2_er1rk")
region = Rect2(72, 160, 24, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hww8b"]
atlas = ExtResource("2_er1rk")
region = Rect2(0, 160, 24, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_5nkr1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_e7yfm")
}],
"loop": true,
"name": &"idle_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_er1rk")
}],
"loop": true,
"name": &"idle_down_holding",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5nkr1")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_31m4k")
}],
"loop": true,
"name": &"idle_right_holding",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_opp7g")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jglmw")
}],
"loop": true,
"name": &"idle_up_holding",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ua707")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rkwqa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_41w2c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e7yfm")
}],
"loop": true,
"name": &"walk_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bncfn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_er1rk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_77ki2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ya2v2")
}],
"loop": true,
"name": &"walk_down_holding",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_g4jua")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5nkr1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m2gb2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p7c1f")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gruaa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_31m4k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vsnin")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vsr4s")
}],
"loop": true,
"name": &"walk_right_holding",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rcrwa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_opp7g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xfjxe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ui1y8")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_00nrh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jglmw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dulvp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hww8b")
}],
"loop": true,
"name": &"walk_up_holding",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mvpqy"]
size = Vector2(14, 15)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_er1rk"]
polygon = PackedVector2Array(-4, -3, 4, -3, 4, 5, -4, 5)

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_rcrwa"]
random_pitch = 1.16
random_volume_offset_db = 0.1
streams_count = 6
stream_0/stream = ExtResource("15_g4jua")
stream_1/stream = ExtResource("16_m2gb2")
stream_2/stream = ExtResource("17_p7c1f")
stream_3/stream = ExtResource("18_gruaa")
stream_4/stream = ExtResource("19_vsnin")
stream_5/stream = ExtResource("20_vsr4s")

[sub_resource type="Animation" id="Animation_g4jua"]
resource_name = "new_animation"
length = 0.80002
loop_mode = 1
step = 0.2
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"play_step_sound"
}, {
"args": [],
"method": &"play_step_sound"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_m2gb2"]
_data = {
&"walking_sound": SubResource("Animation_g4jua")
}

[node name="Player" type="CharacterBody2D"]
collision_layer = 3
motion_mode = 1
script = ExtResource("1_esgq3")
metadata/_custom_type_script = "uid://bnpf3pr2xkm5k"

[node name="Sprites" type="Node2D" parent="."]
light_mask = 2

[node name="PlayerSprite" type="AnimatedSprite2D" parent="Sprites"]
light_mask = 2
position = Vector2(0, -7)
sprite_frames = SubResource("SpriteFrames_5nkr1")
animation = &"walk_down"
autoplay = "idle_down"
frame_progress = 0.702112

[node name="ItemSprite" type="Sprite2D" parent="Sprites"]
light_mask = 2
position = Vector2(0, -3)
scale = Vector2(0.75, 0.75)
texture = ExtResource("3_e7yfm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_mvpqy")

[node name="MovementComponent" type="Node2D" parent="." node_paths=PackedStringArray("input_comp")]
script = ExtResource("2_mvpqy")
input_comp = NodePath("../InputComponent")

[node name="InputComponent" type="Node2D" parent="."]
script = ExtResource("3_1yqc4")

[node name="StatComponent" type="Node2D" parent="."]
script = ExtResource("5_kjkj0")
metadata/_custom_type_script = "uid://buky2c38fbbep"

[node name="ContainerComponent" type="Node2D" parent="."]
script = ExtResource("6_er1rk")
slot_amount = 13
hotbar_slots = PackedInt64Array(12)
loot_table = ExtResource("8_31m4k")
container_name_ui = "Inventory"
metadata/_custom_type_script = "uid://b6p3lpb0yn2rr"

[node name="StateMachineComponent" type="Node" parent="."]
script = ExtResource("6_33vod")
metadata/_custom_type_script = "uid://nohl3crpcmgo"

[node name="IdleState" type="Node" parent="StateMachineComponent"]
script = ExtResource("7_er1rk")
state_name = "Idle"
metadata/_custom_type_script = "uid://civq5tghtijid"

[node name="MovingState" type="Node" parent="StateMachineComponent"]
script = ExtResource("7_er1rk")
state_name = "Moving"
metadata/_custom_type_script = "uid://civq5tghtijid"

[node name="InteractState" type="Node" parent="StateMachineComponent"]
script = ExtResource("7_er1rk")
state_name = "Interacting"
metadata/_custom_type_script = "uid://civq5tghtijid"

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
visible = false
occluder = SubResource("OccluderPolygon2D_er1rk")
sdf_collision = false

[node name="InteractionProgressBar" parent="." instance=ExtResource("10_5nkr1")]
z_index = 5
offset_left = -15.5
offset_top = -27.0
offset_right = 15.5
offset_bottom = -23.0
scale = Vector2(0.75, 0.75)
pivot_offset = Vector2(15.5, 2)
texture_under = ExtResource("11_31m4k")
texture_over = ExtResource("12_opp7g")
texture_progress = ExtResource("13_jglmw")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = SubResource("AudioStreamRandomizer_rcrwa")
volume_db = 1.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_m2gb2")
}
